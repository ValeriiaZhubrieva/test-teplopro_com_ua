import{i as b}from"./common.min.js";function E(t,{openClass:c="is-open"}={}){const u='a[href], button:not([disabled]), textarea, input:not([disabled]), select, [tabindex]:not([tabindex="-1"])',d=document.createElement("span"),l=document.createElement("span");d.tabIndex=0,l.tabIndex=0,d.className="focus-guard",l.className="focus-guard",d.setAttribute("aria-hidden","true"),l.setAttribute("aria-hidden","true"),t.prepend(d),t.append(l);const m=()=>Array.from(t.querySelectorAll(u)).filter(o=>{const i=window.getComputedStyle(o),h=i.visibility!=="hidden"&&i.display!=="none",s=typeof o.getBoundingClientRect=="function"?o.getBoundingClientRect():{width:1,height:1},e=s.width>0&&s.height>0;return h&&e&&!o.hasAttribute("disabled")});function f(o){const i=m();i.length&&(o.target===d?i[i.length-1].focus():i[0].focus())}d.addEventListener("focus",f),l.addEventListener("focus",f);function a(o){if(o.key!=="Tab"||!t.classList.contains(c))return;const i=t.contains(document.activeElement),h=m();if(!h.length){o.preventDefault();return}if(!i){o.preventDefault(),(o.shiftKey?h[h.length-1]:h[0]).focus();return}}return document.addEventListener("keydown",a,!0),function(){document.removeEventListener("keydown",a,!0),d.removeEventListener("focus",f),l.removeEventListener("focus",f),d.remove(),l.remove()}}function S(){const t="is-open",c="is-active",u=document.documentElement,d="ontouchstart"in window||navigator.maxTouchPoints>0;let l=null,m=null,f=!1;function a(){document.querySelectorAll("[data-menu-target]."+t).forEach(s=>{s.classList.remove(t)}),document.querySelectorAll("[data-menu]."+c).forEach(s=>{s.classList.remove(c)}),u.classList.remove("menu-open"),u.className=[...u.classList].filter(s=>!s.startsWith("menu-open--")).join(" "),l&&(l(),l=null),f&&m&&m.focus(),m=null,f=!1}function o(s,{withFocusReturn:e=!0}={}){a();const n=document.querySelector(`[data-menu-target="${s}"]`),r=document.querySelector(`[data-menu="${s}"]`);if(n&&r){const v=n.parentElement.getBoundingClientRect();m=r,f=e,n.classList.add(t),r.classList.add(c),u.classList.add("menu-open"),u.classList.add(`menu-open--${s}`),n.style.setProperty("--menu-height",`${window.innerHeight-v.bottom}px`),l=E(n,{openClass:"is-open"})}}function i(s){document.querySelector(`[data-menu-target="${s}"]`)?.classList.contains(t)?a():o(s)}document.addEventListener("keydown",s=>{s.key==="Escape"&&a()}),new MutationObserver(s=>{for(const e of s)e.type==="attributes"&&e.attributeName==="data-fls-popup-open"&&u.hasAttribute("data-fls-popup-open")&&a()}).observe(u,{attributes:!0}),document.addEventListener("click",s=>{const e=s.target.closest("[data-menu]"),n=s.target.closest("[data-menu-target]."+t);if(e){(e.hasAttribute("data-menu-click")||d&&b.any())&&s.preventDefault();const r=e.dataset.menu;i(r)}else n||a()}),document.querySelectorAll("[data-menu-close]").forEach(s=>{s.addEventListener("click",e=>{e.preventDefault(),a()})}),!d&&!b.any()&&document.querySelectorAll("[data-menu]").forEach(s=>{if(s.hasAttribute("data-menu-click"))return;const e=s.dataset.menu,n=document.querySelector(`[data-menu-target="${e}"]`);if(!n)return;let r=!1,v=!1,L=null;const p=()=>{clearTimeout(L),L=setTimeout(()=>{!r&&!v&&(n.classList.remove(t),s.classList.remove(c),u.classList.remove(`menu-open--${e}`),document.querySelector("[data-menu-target]."+t)||u.classList.remove("menu-open"))},300)};s.addEventListener("mouseenter",()=>{r=!0,o(e,{withFocusReturn:!1})}),s.addEventListener("mouseleave",()=>{r=!1,p()}),n.addEventListener("mouseenter",()=>{v=!0}),n.addEventListener("mouseleave",()=>{v=!1,p()})})}document.addEventListener("DOMContentLoaded",S);function g(){const t="is-open",c="is-active",u=document.documentElement,d="ontouchstart"in window||navigator.maxTouchPoints>0;let l=null,m=null,f=!1;const a=document.querySelector("[data-submenu-links]"),o=document.querySelector("[data-submenu-items]");if(!a||!o)return;function i(){document.querySelectorAll("[data-submenu-item]."+t).forEach(e=>{e.classList.remove(t)}),document.querySelectorAll("[data-submenu-link]."+c).forEach(e=>{e.classList.remove(c)}),u.classList.remove("submenu-open"),u.className=[...u.classList].filter(e=>!e.startsWith("submenu-open--")).join(" "),o.classList.remove(t),a.classList.remove(c),l&&(l(),l=null),f&&m&&m.focus(),m=null,f=!1}function h(e,{withFocusReturn:n=!0}={}){i();const r=document.querySelector(`[data-submenu-item="${e}"]`),v=document.querySelector(`[data-submenu-link="${e}"]`);if(r&&v){m=v,f=n,r.classList.add(t),v.classList.add(c),u.classList.add("submenu-open"),u.classList.add(`submenu-open--${e}`),a.classList.add(c),o.classList.add(t);const L=a?a.offsetHeight:0;o.style.setProperty("--submenu-height",`${L}px`),l=E(r,{openClass:t})}}function s(e){document.querySelector(`[data-submenu-item="${e}"]`)?.classList.contains(t)?i():h(e)}document.addEventListener("keydown",e=>{e.key==="Escape"&&i()}),document.addEventListener("click",e=>{const n=e.target.closest("[data-submenu-link]"),r=e.target.closest("[data-submenu-item]."+t);if(n){(n.hasAttribute("data-submenu-click")||d&&b.any())&&e.preventDefault();const v=n.dataset.submenuLink;s(v)}else r||i()}),document.querySelectorAll("[data-submenu-close]").forEach(e=>{e.addEventListener("click",n=>{n.preventDefault(),i()})}),!d&&!b.any()&&document.querySelectorAll("[data-submenu-link]").forEach(e=>{if(e.hasAttribute("data-submenu-click"))return;const n=e.dataset.submenuLink,r=document.querySelector(`[data-submenu-item="${n}"]`);if(!r)return;let v=!1,L=!1,p=null;const y=()=>{clearTimeout(p),p=setTimeout(()=>{!v&&!L&&(r.classList.remove(t),e.classList.remove(c),u.classList.remove(`submenu-open--${n}`),o.classList.remove(t),a.classList.remove(c),document.querySelector("[data-submenu-item]."+t)||u.classList.remove("submenu-open"))},300)};e.addEventListener("mouseenter",()=>{v=!0,h(n,{withFocusReturn:!1})}),e.addEventListener("mouseleave",()=>{v=!1,y()}),o.addEventListener("mouseenter",()=>L=!0),o.addEventListener("mouseleave",()=>{L=!1,y()}),a.addEventListener("mouseenter",()=>L=!0),a.addEventListener("mouseleave",()=>{L=!1,y()})})}document.addEventListener("DOMContentLoaded",g);function w(){const t=document.querySelector("[data-fls-header-scroll]"),c=t.hasAttribute("data-fls-header-scroll-show"),u=t.dataset.flsHeaderScrollShow?t.dataset.flsHeaderScrollShow:500,d=t.dataset.flsHeaderScroll?t.dataset.flsHeaderScroll:1;let l=0,m;function f(){const a=window.scrollY;clearTimeout(m),a>=d?(t.classList.contains("--header-scroll")||t.classList.add("--header-scroll"),c&&(a>l?t.classList.contains("--header-show")&&t.classList.remove("--header-show"):t.classList.contains("--header-show")||t.classList.add("--header-show"),m=setTimeout(()=>{t.classList.contains("--header-show")||t.classList.add("--header-show")},u))):(t.classList.contains("--header-scroll")&&t.classList.remove("--header-scroll"),c&&t.classList.contains("--header-show")&&t.classList.remove("--header-show")),l=a<=0?0:a}f(),document.addEventListener("scroll",f)}document.querySelector("[data-fls-header-scroll]")&&window.addEventListener("load",w);
